{% extends "theme.html" %}

{% block title %}Settings{% endblock %}

{% block content %}
    <h1>Manage Sites</h1>

    <div class="form-container">
        <form method="post">
            <div class="form-group">
                <label for="name">Site Name:</label>
                <input type="text" name="name" id="name" required>
            </div>
            <div class="form-group">
                <label for="purpose">Purpose:</label>
                <input type="text" name="purpose" id="purpose" required>
            </div>
            <div class="form-group">
                <label for="url">URL:</label>
                <input type="url" name="url" id="url" required>
            </div>
            <div class="form-group">
                <label for="frequency">Frequency (seconds):</label>
                <input type="number" name="frequency" id="frequency" required min="10">
            </div>
            <div class="form-group">
                <label for="enabled">Enabled:</label>
                <input type="checkbox" name="enabled" id="enabled">
            </div>
            <button type="submit" class="btn-submit">Add Site</button>
        </form>
    </div>

    <table class="sites-table">
        <thead>
            <tr>
                <th>Site Name</th>
                <th>Purpose</th>
                <th>URL</th>
                <th>Frequency</th>
                <th>Enabled</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for site in sites %}
            <tr>
                <td>{{ site[1] }}</td>
                <td>{{ site[2] }}</td>
                <td>{{ site[3] }}</td>
                <td>{{ site[4] }}</td>
                <td>{{ 'Yes' if site[5] == 1 else 'No' }}</td>
                <td>
                    <a href="{{ url_for('edit_site', site_id=site[0]) }}" class="button">Edit</a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
{% endblock %}
